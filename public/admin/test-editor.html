<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>–¢–µ—Å—Ç –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞</title>
    <link href="decap/decap-cms.css" rel="stylesheet">
    <script src="decap/decap-cms.js"></script>
    <style>
        body { margin: 0; padding: 20px; font-family: Arial; background: #f5f5f5; }
        .status { padding: 20px; margin: 20px 0; border-radius: 10px; text-align: center; }
        .success { background: #27ae60; color: white; }
        .loading { background: #f39c12; color: white; }
        .error { background: #e74c3c; color: white; }
    </style>
</head>
<body>
    <div id="status" class="status loading">
        <h2>üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–¥–∞–∫—Ç–æ—Ä...</h2>
        <p>–ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã Decap CMS</p>
    </div>

    <div id="editor" style="display: none;">
        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç Decap CMS -->
    </div>

    <script>
        console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É Decap CMS...');
        
        setTimeout(() => {
            if (typeof DecapCMS === 'undefined') {
                document.getElementById('status').className = 'status error';
                document.getElementById('status').innerHTML = `
                    <h2>‚ùå Decap CMS –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è</h2>
                    <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π</p>
                    <button onclick="location.reload()" style="background: white; color: #e74c3c; border: none; padding: 10px 20px; border-radius: 5px; margin: 10px; cursor: pointer;">
                        üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
                    </button>
                `;
            } else {
                document.getElementById('status').className = 'status success';
                document.getElementById('status').innerHTML = `
                    <h2>‚úÖ Decap CMS –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ!</h2>
                    <p>–§–∞–π–ª—ã: ‚úÖ JS (5.2 MB) ‚úÖ CSS (1.7 KB)</p>
                    <p>–ó–∞–ø—É—Å–∫–∞–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä...</p>
                `;
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä
                startEditor();
            }
        }, 2000);

        function startEditor() {
            try {
                console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Decap CMS...');
                
                const config = {
                    backend: {
                        name: "test-repo"
                    },
                    locale: 'ru',
                    media_folder: "static/images/uploads",
                    public_folder: "/images/uploads",
                    collections: [
                        {
                            name: "gallery",
                            label: "üì∑ –ì–∞–ª–µ—Ä–µ–∏",
                            folder: "content/gallery",
                            create: true,
                            slug: "{{slug}}",
                            fields: [
                                {
                                    label: "–ù–∞–∑–≤–∞–Ω–∏–µ –∞–ª—å–±–æ–º–∞", 
                                    name: "title", 
                                    widget: "string",
                                    required: true
                                },
                                {
                                    label: "–û–ø–∏—Å–∞–Ω–∏–µ", 
                                    name: "description", 
                                    widget: "text"
                                },
                                {
                                    label: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è", 
                                    name: "category", 
                                    widget: "select", 
                                    options: [
                                        { label: "üíí –°–≤–∞–¥—å–±—ã", value: "—Å–≤–∞–¥—å–±—ã" },
                                        { label: "üì∏ –ü–æ—Ä—Ç—Ä–µ—Ç—ã", value: "–ø–æ—Ä—Ç—Ä–µ—Ç—ã" },
                                        { label: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°–µ–º–µ–π–Ω—ã–µ", value: "—Å–µ–º–µ–π–Ω—ã–µ" },
                                        { label: "üéâ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è", value: "–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è" }
                                    ]
                                },
                                {
                                    label: "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏", 
                                    name: "images", 
                                    widget: "list",
                                    field: {
                                        label: "–§–æ—Ç–æ", 
                                        name: "image", 
                                        widget: "image"
                                    }
                                }
                            ]
                        }
                    ]
                };

                DecapCMS.init({ config });
                
                setTimeout(() => {
                    document.getElementById('status').innerHTML = `
                        <div class="status success">
                            <h2>üéâ –†–µ–¥–∞–∫—Ç–æ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!</h2>
                            <p>Decap CMS —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –≤ –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–µ</p>
                            <p>–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∞–ª–µ—Ä–µ–∏ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</p>
                        </div>
                    `;
                }, 1000);
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
                document.getElementById('status').className = 'status error';
                document.getElementById('status').innerHTML = `
                    <h2>‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞</h2>
                    <p>${error.message}</p>
                    <button onclick="location.reload()" style="background: white; color: #e74c3c; border: none; padding: 10px 20px; border-radius: 5px; margin: 10px; cursor: pointer;">
                        üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
                    </button>
                `;
            }
        }
    </script>
</body>
</html>